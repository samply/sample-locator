<div fxLayout="row" fxLayoutAlign="space-between stretch"
     class="bbmri-transition">
  <div fxFlex="1 0 0"></div>

  <div class="bbmri-container">
    <div fxLayout="row nowrap" fxLayoutAlign="space-between stretch">
      <div fxFlex="0 1 50%">
        <h2>Search</h2>

        <div *ngIf="!(mdrFieldProviderService.ready$ | async)">
          Waiting for data from Metadata Repository
          <p-progressBar mode="indeterminate" [style]="{'height': '6px'}"></p-progressBar>
        </div>

        <div class="margin-action-buttons top-action-buttons"
             fxLayout="row"
             fxLayoutAlign="end">
          <div fxLayout="row"
               fxLayout.lt-md="column-reverse"
               fxLayoutAlign="end"
               fxLayoutAlign.lt-md="start">
            <app-samply-button [imageIcon]="faTimes" [active]="true" label="Clear"
                               [visible]="showTopActionButtons()"
                               (click)="resetQuery()"></app-samply-button>
            <app-samply-button [imageIcon]="faEdit" [active]="false" label="Edit"
                               [visible]="showTopActionButtons()"></app-samply-button>
            <div *ngIf="featureService.brandingUI() === 'GBA'">
              <app-samply-button [imageIcon]="faPaperPlane" [active]="true" label="Send"
                                 [visible]="showTopActionButtons()"></app-samply-button>
            </div>
            <div *ngIf="featureService.brandingUI() === 'BBMRI'">
              <div *ngIf="!userService.getLoginValid()">
                <app-samply-button [imageIcon]="faPaperPlane" [active]="false" label="Send"
                                   [visible]="showTopActionButtons()"></app-samply-button>
              </div>
              <div *ngIf="userService.getLoginValid()">
                <app-samply-button [imageIcon]="faPaperPlane" [active]="true" label="Send"
                                   [visible]="showTopActionButtons()"
                                   (click)="sendQuery()"></app-samply-button>
              </div>
            </div>
          </div>
        </div>

        <app-search-builder [mdrEntitiesDonor]="mdrEntitiesDonor"
                            [mdrEntitiesSample]="mdrEntitiesSample"></app-search-builder>

        <div class="margin-action-buttons"
             fxLayout="row"
             fxLayoutAlign="end">
          <div fxLayout="row"
               fxLayout.lt-md="column-reverse"
               fxLayoutAlign="end"
               fxLayoutAlign.lt-md="start">
            <app-samply-button [imageIcon]="faTimes" [active]="true" label="Clear"
                               (click)="resetQuery()"></app-samply-button>
            <app-samply-button [imageIcon]="faEdit" [active]="false" label="Edit"></app-samply-button>
            <div *ngIf="featureService.brandingUI() === 'GBA'">
              <app-samply-button [imageIcon]="faPaperPlane" [active]="false" label="Send"></app-samply-button>
            </div>
            <div *ngIf="featureService.brandingUI() === 'BBMRI'">
              <div *ngIf="!userService.getLoginValid()">
                <app-samply-button [imageIcon]="faPaperPlane" [active]="false" title="Please Login" label="Send"></app-samply-button>
              </div>
              <div *ngIf="userService.getLoginValid()">
                <app-samply-button [imageIcon]="faPaperPlane" [active]="true" label="Send"
                                   (click)="sendQuery()"></app-samply-button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div fxFlex="0 0 1px" class="divider"></div>

      <div fxFlex="0 1 50%">
        <h2>Result</h2>
      </div>

    </div>
  </div>

  <div fxFlex="1 0 0"></div>
</div>

